<!-- employee-status.component.html -->
<div class="employee-status-card">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="loading-spinner"></div>
    <div class="loading-text">Loading employee data...</div>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !isLoading" class="error-state">
    <div class="error-message">{{ error }}</div>
    <button (click)="refreshData()" class="retry-button">Retry</button>
  </div>

  <!-- Main Content -->
  <div *ngIf="!isLoading && !error">
    <!-- Total Employees -->
    <div class="total-section">
      <div class="total-label">Total Employee</div>
      <div class="total-count">{{totalEmployees}}</div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar" *ngIf="employeeStatuses.length > 0">
      <div *ngFor="let status of employeeStatuses"
           class="status-segment"
           [style.width.%]="status.percentage"
           [style.background-color]="status.color"
           [class.hidden-segment]="status.count === 0">
      </div>
    </div>

    <!-- Status Details Grid -->
    <div class="status-grid">
      <!-- Dynamic grid that handles any number of statuses -->
      <div *ngFor="let status of employeeStatuses; let i = index"
           class="status-cell"
           [class.empty-status]="status.count === 0">
        <div class="status-indicator" [style.background-color]="status.color"></div>
        <div class="status-label">{{status.category}} ({{status.percentage}}%)</div>
        <div class="status-value">{{status.count}}</div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="employeeStatuses.length === 0" class="empty-state">
      <div class="empty-message">No employee status data available</div>
    </div>

    <!-- View All Link -->
    <div class="view-all-section">
      <a (click)="viewAllEmployees()" class="view-all-link">View All Employees</a>
    </div>
  </div>
</div>
